<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Service Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Protocol/Service" class="dashAnchor"></a>
    <a title="Service Protocol Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Mappedin Docs</a></p>
        <p class="header-right"><a href="https://github.com/MappedIn/ios"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Mappedin Reference</a>
        <img id="carat" src="../img/carat.png" />
        Service Protocol Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/APIRequest.html">APIRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Category.html">Category</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Connection.html">Connection</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Coordinate.html">Coordinate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Cylinder.html">Cylinder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ImageOverlay.html">ImageOverlay</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Location.html">Location</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Map.html">Map</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/MapView.html">MapView</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Path.html">Path</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Polygon.html">Polygon</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Prism.html">Prism</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TextOverlay.html">TextOverlay</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Venue.html">Venue</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/AnchorPoint.html">AnchorPoint</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/DeserializableError.html">DeserializableError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/HttpError.html">HttpError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/Deserializable.html">Deserializable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:8Mappedin27DirectionsInstructionActionP">DirectionsInstructionAction</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:8Mappedin7ElementP">Element</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Focusable.html">Focusable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/MapViewDelegate.html">MapViewDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Navigatable.html">Navigatable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Position.html">Position</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Service.html">Service</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/Analytics.html">Analytics</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Analytics/Wayfind.html">– Wayfind</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/BinaryDecoder.html">BinaryDecoder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Directions.html">Directions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Directions/Instruction.html">– Instruction</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs.html#/s:8Mappedin11FocusPointsV">FocusPoints</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ImageSet.html">ImageSet</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SearchPagination.html">SearchPagination</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SearchResult.html">SearchResult</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Vector2.html">Vector2</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Vector3.html">Vector3</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/VenueListing.html">VenueListing</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:8Mappedin14CompletionDataa">CompletionData</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:8Mappedin21CompletionJsonHandlera">CompletionJsonHandler</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Service</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">Service</span></code></pre>

                </div>
              </div>
            <p>Used to connect to the Mappedin servers and retrieve venue data
a <code>Service</code> once implemented is used to hold the apiKey&rsquo;s and Venue type
required to use the Mappedin SDK</p>

<ul>
<li><p>Example:</p>
<pre class="highlight swift"><code>  <span class="kd">class</span> <span class="kt">ExampleService</span><span class="p">:</span> <span class="kt">Mappedin</span><span class="o">.</span><span class="kt">Service</span> <span class="p">{</span>
      <span class="kd">typealias</span> <span class="kt">VenueType</span> <span class="o">=</span> <span class="kt">Venue</span>

      <span class="k">let</span> <span class="nv">apiKey</span> <span class="o">=</span> <span class="s">"&lt;key&gt;"</span>
      <span class="k">let</span> <span class="nv">apiSecret</span> <span class="o">=</span> <span class="s">"&lt;secret&gt;"</span>
      <span class="k">let</span> <span class="nv">dataKey</span> <span class="o">=</span> <span class="s">"&lt;data&gt;"</span>

      <span class="kd">required</span> <span class="nf">init</span><span class="p">()</span> <span class="p">{}</span>
  <span class="p">}</span>

  <span class="c1">// It's important to have this step, this will modify the AppDelegate</span>
  <span class="c1">// to include Mappedin's analytics frameworks, your service will not</span>
  <span class="c1">// function if you do not install this. </span>
  <span class="kd">public</span> <span class="k">let</span> <span class="nv">service</span> <span class="o">=</span> <span class="kt">ExampleService</span><span class="p">(</span><span class="kt">AppDelegate</span><span class="o">.</span><span class="k">self</span><span class="p">)</span>

  <span class="c1">// With that created, we can now initialized, we can call the Mappedin</span>
  <span class="c1">// API in order to get the required data from our servers.</span>
  <span class="n">service</span><span class="o">.</span><span class="nf">getVenues</span><span class="p">()</span>
     <span class="o">.</span><span class="n">onComplete</span><span class="p">{</span> <span class="n">venues</span> <span class="k">in</span>
         <span class="c1">// find your venue from the list of venues that</span>
         <span class="n">service</span><span class="o">.</span><span class="nf">getVenue</span><span class="p">(</span><span class="n">venues</span><span class="o">.</span><span class="n">first</span><span class="o">!</span><span class="p">)</span><span class="o">.</span><span class="n">onComplete</span> <span class="p">{</span> <span class="n">venue</span> <span class="k">in</span>
             <span class="c1">// With a venue loaded we can setup the MapView</span>
             <span class="c1">// but that will be shown in another example.</span>
         <span class="p">}</span>
      <span class="p">}</span>
</code></pre></li>
</ul>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServiceP9VenueType"></a>
                    <a name="//apple_ref/swift/Alias/VenueType" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServiceP9VenueType">VenueType</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This is which <code><a href="../Classes/Venue.html">Venue</a></code> object to deserilize when we download a venue
from the Mappedin servers. This <code>VenueType</code> will be supplied by
Mappedin when you are granted access to the SDK.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">associatedtype</span> <span class="kt">VenueType</span><span class="p">:</span> <span class="kt"><a href="../Classes/Venue.html">Venue</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServiceP6apiKeySSv"></a>
                    <a name="//apple_ref/swift/Property/apiKey" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServiceP6apiKeySSv">apiKey</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A unique key used to identify your account with Mappedin.
Supplied when you sign up for the Mappedin SDK</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">apiKey</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServiceP9apiSecretSSv"></a>
                    <a name="//apple_ref/swift/Property/apiSecret" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServiceP9apiSecretSSv">apiSecret</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Used to authenticate that your app. 
Supplied when you sign up for the Mappedin SDK</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">apiSecret</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServiceP7dataKeySSv"></a>
                    <a name="//apple_ref/swift/Property/dataKey" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServiceP7dataKeySSv">dataKey</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Used to uniquely identify what type of Map data to download.
Supplied when you sign up for the Mappedin SDK</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">dataKey</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServiceP10searchUserSSv"></a>
                    <a name="//apple_ref/swift/Property/searchUser" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServiceP10searchUserSSv">searchUser</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The search user, provided by your Mappedin Rep</p>

<p>if these are not supplied, the search functionality will not work
but the rest of the SDK will continue to function.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">searchUser</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServiceP9searchKeySSv"></a>
                    <a name="//apple_ref/swift/Property/searchKey" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServiceP9searchKeySSv">searchKey</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The search key, provided by your Mappedin Rep</p>

<p>if these are not supplied, the search functionality will not work
but the rest of the SDK will continue to function.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">searchKey</span><span class="p">:</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServicePxycfc"></a>
                    <a name="//apple_ref/swift/Method/init()" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServicePxycfc">init()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The default constructor for your service.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="nf">init</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServicePAAExSo21UIApplicationDelegate_pXpcfc"></a>
                    <a name="//apple_ref/swift/Method/init(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServicePAAExSo21UIApplicationDelegate_pXpcfc">init(_:)</a>
                    </code>
                      <span class="declaration-note">
                        Extension method
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This <em>must</em> be called when initializing your Service.</p>

<p>This will wrap your Application Delegate allow the Mappedin API
to intercept some message that are sent form the system. This is required
in order to implement some aspects of the API. </p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This should only be done once, in the scope of your App. You should
    save your unique service object as a global variable. This follows
    the Singleton pattern.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="n">_</span> <span class="nv">appDelegateType</span><span class="p">:</span> <span class="kt">UIApplicationDelegate</span><span class="o">.</span><span class="k">Type</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>appDelegateType</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Your Application&rsquo;s Delegate object</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServicePAAE9getVenuesAA10APIRequestCySayAA12VenueListingVGGyF"></a>
                    <a name="//apple_ref/swift/Method/getVenues()" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServicePAAE9getVenuesAA10APIRequestCySayAA12VenueListingVGGyF">getVenues()</a>
                    </code>
                      <span class="declaration-note">
                        Extension method
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Retrieves a list of all venues your credentials have access to</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">getVenues</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Classes/APIRequest.html">APIRequest</a></span><span class="o">&lt;</span><span class="p">[</span><span class="kt"><a href="../Structs/VenueListing.html">VenueListing</a></span><span class="p">]</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:8Mappedin7ServicePAAE8getVenueAA10APIRequestCy0D4TypeQzGAA0D7ListingVF"></a>
                    <a name="//apple_ref/swift/Method/getVenue(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:8Mappedin7ServicePAAE8getVenueAA10APIRequestCy0D4TypeQzGAA0D7ListingVF">getVenue(_:)</a>
                    </code>
                      <span class="declaration-note">
                        Extension method
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Retrieves the full details (maps, locations, etc) of a given venue</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">getVenue</span><span class="p">(</span><span class="n">_</span> <span class="nv">venueListing</span><span class="p">:</span> <span class="kt"><a href="../Structs/VenueListing.html">VenueListing</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Classes/APIRequest.html">APIRequest</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Service.html#/s:8Mappedin7ServiceP9VenueType">VenueType</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>venueListing</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The specific venue that you are requesting the
                     data for</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An APIRequest that will contain the future results after they
       have been downloaded and decoded from the Mappedin servers.</p>

<ul>
<li><strong>Note</strong>: It is important to populate the <code>onError</code> handler because
        your logic will miss any error that might be caused by the
        API key misconfiguration.</li>
</ul>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="http://www.mappedin.ca" target="_blank" rel="external">Mappedin</a>. All rights reserved. (Last updated: 2018-01-26)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
